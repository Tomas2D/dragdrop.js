{"version":3,"sources":["webpack:///webpack/bootstrap 0eb45bf7426cdc9aef8a","webpack:///./src/dragdrop.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,S;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,S;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,2C;AACA;AACA;AACA;AACA;AACA,0CAA0C,mCAAmC;AAC7E;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,2CAA2C,MAAM;;AAEjD;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC,MAAM;;AAE3C;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"dragdrop.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0eb45bf7426cdc9aef8a","/**\r\n * Dragdrop.js\r\n * @author Guilherme Modugno - https://modugno.github.io \r\n * @description DragDrop Elements\r\n */\r\nclass Dragdrop {\r\n\r\n    constructor(...params) {\r\n        this.elements = this.getElements();\r\n        this.traitParams(params);\r\n        this.targets  = document.querySelectorAll(this.elements.targets);\r\n        this.elements = document.querySelectorAll(this.elements.element);\r\n        this.orders = [];\r\n        this.onInit();\r\n    }\r\n\r\n    traitParams(params) {\r\n        if (params.length == 1) {\r\n            if (typeof params[0] === 'object') {\r\n                this.mergeElements(params[0]);\r\n            } else if (typeof params[0] === 'function') {\r\n                params[0](document, this);\r\n            }\r\n        } \r\n        else if ((params.length > 1) && (typeof params[0] == 'object')) {\r\n            this.mergeElements(params[0]);\r\n            params[1](document, this);\r\n        }\r\n    }\r\n\r\n    mergeElements(elements) {\r\n        Object.assign(this.elements, elements);\r\n    }\r\n\r\n    getElements() {\r\n        return {\r\n            element: '.dragdrop',\r\n            targets: '.dragdrop-target'\r\n        }        \r\n    }\r\n\r\n    dragstart(element) {\r\n        element.addEventListener('dragstart', function(event) {\r\n            let parent = this.parentNode;\r\n            event.dataTransfer.setData('parent', parent.id);\r\n            event.dataTransfer.setData('text/plain', this.id);\r\n        });\r\n    }\r\n\r\n    drop(target) {\r\n        let self = this;\r\n        target.addEventListener('drop', function(event) {\r\n            let id = event.dataTransfer.getData('text');\r\n            let el = document.getElementById(id);\r\n            \r\n            self.changePosition(event, this.childNodes);\r\n            this.appendChild(el);\r\n    \r\n            if (!this.classList.contains('over')) {\r\n                this.classList.add('over');\r\n            }\r\n            \r\n            self.getOrders();\r\n        });\r\n\r\n    }\r\n\r\n    getOrders() {\r\n        this.orders = [];\r\n        [].forEach.call(this.targets, (target) => {\r\n            if (target.childNodes.length) {  \r\n                target.childNodes.forEach(child => {\r\n                    if (child.tagName) {\r\n                        let elementId = child.getAttribute('data-id') || 0\r\n                        let order     = parseInt( target.getAttribute('dragdrop-order') );\r\n                        this.orders.push({ element: elementId, order: order })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    dragover(target) {\r\n        target.addEventListener('dragover', function(event) {\r\n            event.preventDefault();\r\n            if (!this.classList.contains('over')) {\r\n                this.classList.add('over');\r\n            }\r\n        });\r\n    }\r\n\r\n    dragleave(target) {\r\n        target.addEventListener('dragleave', function(event) {\r\n            if (this.classList.contains('over')) {\r\n                this.classList.remove('over');\r\n            }\r\n        });\r\n    }\r\n\r\n    dragend(target) {\r\n        target.addEventListener('dragend', function(event) {\r\n            if (this.classList.contains('over')) {\r\n                this.classList.remove('over');\r\n            }\r\n        });\r\n    }\r\n\r\n    dispatchEventsTarget() {\r\n        let index = 1;\r\n        [].forEach.call(this.targets, (target) => {\r\n            target.setAttribute('dragdrop', 'target');\r\n            target.setAttribute('dragdrop-order', index);\r\n            target.id = `dragdrop-target-${index}`;\r\n            \r\n            this.drop(target);\r\n            this.dragover(target);\r\n            this.dragleave(target);\r\n            this.dragend(target);\r\n\r\n            index++;\r\n        });\r\n    }\r\n\r\n    dispatchEventsElements() {\r\n        let index = 1;\r\n        [].forEach.call(this.elements, (element) => {\r\n            element.setAttribute('dragdrop', 'element');\r\n            element.setAttribute('draggable', 'true');\r\n            element.id = `dragdrop-${index}`;\r\n\r\n            this.dragstart(element);\r\n\r\n            index++;\r\n        });\r\n    }\r\n\r\n    changePosition(event, childs) {\r\n        if (childs.length) {\r\n            let parentId = event.dataTransfer.getData('parent');\r\n            let $parent = document.getElementById(parentId);\r\n            \r\n            childs.forEach(child => {\r\n                if (child.tagName) {\r\n                    $parent.appendChild(child);\r\n                }\r\n            })\r\n        }\r\n    }\r\n    \r\n    onInit() {\r\n        this.dispatchEventsTarget();\r\n        this.dispatchEventsElements();\r\n        this.getOrders();\r\n    }\r\n    \r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/dragdrop.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}